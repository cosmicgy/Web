<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>event handler</title>
</head>

<body>
    <!-- <button onclick="myHandler()">Click me</button>
    <script>
        function myHandler() {
            alert('Button clicked!');
        }
    </script> -->

    <button onclick="myHandler1(); myHandler2();">Click me</button>
    <script>
        function myHandler1() {
            alert('myHandler1');
        }
        function myHandler2() {
            alert('myHandler2');
        }
    </script>
    <button class="btn">Click me</button>
    <script>
        const btn = document.querySelector('.btn');

        // 이벤트 핸들러 프로퍼티 방식은 이벤트에 하나의 이벤트 핸들러만을 바인딩할 수 있다
        // 첫번째 바인딩된 이벤트 핸들러 => 실행되지 않는다.
        btn.onclick = function () {
            alert('① Button clicked 1');
        };

        // 두번째 바인딩된 이벤트 핸들러
        btn.onclick = function () {
            alert('① Button clicked 2');
        };

        // addEventListener 메소드 방식
        // 첫번째 바인딩된 이벤트 핸들러
        btn.addEventListener('click', function () {
            alert('② Button clicked 1');
        });

        // 두번째 바인딩된 이벤트 핸들러
        btn.addEventListener('click', function () {
            alert('② Button clicked 2');
        });
    </script>

    <script>
        addEventListener('click', function () {
            alert('Clicked!');
        });
    </script>
    <!-- 위와 같이 대상 DOM 요소(target)를 지정하지 않으면 전역객체 window, 즉 DOM 문서를 포함한 브라우저의 윈도우에서 발생하는 click 이벤트에 이벤트 핸들러를 바인딩한다. 
따라서 브라우저 윈도우 어디를 클릭하여도 이벤트 핸들러가 동작한다. -->

    <!-- input 요소에서 발생하는 blur 이벤트에 이벤트 핸들러를 바인딩하였다. 
사용자 이름이 최소 2자 이상이야한다는 규칙을 세우고 이에 부합하는지 확인해보자. -->

    <label>User name <input type='text'></label>
    <em class="message"></em>

    <script>
        const input = document.querySelector('input[type=text]');
        const msg = document.querySelector('.message');

        input.addEventListener('blur', function () {
            if (input.value.length < 2) {
                msg.innerHTML = '이름은 2자 이상 입력해 주세요';
            } else {
                msg.innerHTML = '';
            }
        });
    </script>
<!-- 하지만 이렇게 하면 유지보수의 어려움이 있음 아래처럼 변경 필요  -->

    <label>User name <input type='text'></label>
    <em class="message"></em>

    <script>
        const MIN_USER_NAME_LENGTH = 2; // 이름 최소 길이

        const input = document.querySelector('input[type=text]');
        const msg = document.querySelector('.message');

        function checkUserNameLength(n) {
            if (input.value.length < n) {
                msg.innerHTML = '이름은 ' + n + '자 이상이어야 합니다';
            } else {
                msg.innerHTML = '';
            }
        }

        input.addEventListener('blur', function () {
            // 이벤트 핸들러 내부에서 함수를 호출하면서 인수를 전달한다.
            checkUserNameLength(MIN_USER_NAME_LENGTH);
        });

//    이벤트 핸들러 프로퍼티 방식도 동일한 방식으로 인수를 전달할 수 있다.
//    input.onblur = function () {
//     // 이벤트 핸들러 내부에서 함수를 호출하면서 인수를 전달한다.
//     checkUserNameLength(MIN_USER_NAME_LENGTH);
//    };
    </script>



</body>

</html>